<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Admin</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


</head>

<body>
<h1 class="ml-3"> Dashboard Admin </h1>



<a href="/aggiungiQuestionario" class="ml-3">Aggiungi una domanda</a>

<h1 class="mt-3 ml-3">Lista questionari: </h1>


		   	<div class="container-fluid">
		        <div class="row flex-row flex-nowrap mt-4">
		   			
		     			
		 <th:block th:each="questionariAdmin : ${questionariAdmin}">
		                    
		          <div class="col-5">
		                <div class="card ">
		                    <div class="card-body">
		                    <td>  <h3 class="card-text" th:text="|${questionariAdmin.titolo}|"></h3></td>
		
						<th:block th:each="domandeQuestionario : ${domandeQuestionario}">
		                      <!-- da qui ciclo for per le domande  -->
		                     <td><h6 class="card-text mt-3" th:text="|Domanda ${domandeQuestionario.iddomanda}|"></h6></td>
		                     <td> <p class="card-text" th:text="|${domandeQuestionario.testo}|"></p></td>
						</th:block>  
							<td> <a href="#" class="btn btn-primary">Attiva il form</a></td>
				
				   		  
				   		  </div>
						</div>
					</div>
   			
				</th:block>  
   		
   		   			
   			</div>
   			</div>
   			
   <div class="">
<th:block th:each="media : ${media}">
		                     <td><h2 class="mt-3 ml-3" th:text="|${media} / 5|"></h2></td>

   </div>
  
				</th:block>  
 
    <h2 class="ml-3">Star Rating</h2>
    
    <!-- INSERIMENTO DEL NUMERO DI RECENSORI PER OGNI STELLA   -->
		<th:block th:each="stelle1 : ${stelle1}">
		
		<td><span id="1"  class="numero-recensori" th:text="|${stelle1}"></span></td>
		
		</th:block>  
		
		<th:block th:each="stelle2 : ${stelle2}">
		
		<td><span id="2"  class="numero-recensori" th:text="|${stelle2}"></span></td>
		
		</th:block>  
		
		<th:block th:each="stelle3 : ${stelle3}">
		
		<td><span id="3"  class="numero-recensori" th:text="|${stelle3}"></span></td>
		
		</th:block>  
		
		<th:block th:each="stelle4 : ${stelle4}">
		
		<td><span id="4"  class="numero-recensori" th:text="|${stelle4}"></span></td>
		
		</th:block>  
		
		<th:block th:each="stelle5 : ${stelle5}">
		
		<td><span id="5"  class="numero-recensori" th:text="|${stelle5}"></span></td>
		
		</th:block>  


<!--  
<span id="4" class="numero-recensori">800</span>
<span id="3" class="numero-recensori">600</span>
<span id="2" class="numero-recensori">400</span>
<span id="1" class="numero-recensori">200</span>
-->


    <div id="items" class="form-group ml-3 mt-4">
</div>

        <script>

            function GeneraStella(parametro){
                let i=0;
                let div_totale= document.getElementById("items");
                let numero_recensioni=document.getElementById(parametro);
                console.log(numero_recensioni);
            
                // creo un div per ogni gruppo di stelle
                odv = document.createElement('div');
                odv.setAttribute("class", "Div-stelle");
            
                while (i<parametro){
                    // creo il numero di stelle che mi serve ogni volta che richiamo la funzione
                    stella = document.createElement('span');
                    stella.setAttribute("class", "fa fa-star checked");
                    odv.append(stella);
                    i+=1;
                }
            
                // le appendo al div creato in precedenza
                odv.append(numero_recensioni);
                div_totale.append(odv);
            
            }
            
            // richiamo funzione
            GeneraStella(5);
            GeneraStella(4);
            GeneraStella(3);
            GeneraStella(2);
            GeneraStella(1);
            
            
            
            </script> 

            <style>
                .div-stella{
                    display: flex;
                    align-items: center;
                }
                .numero-recensori{
                    padding-left: 10px;
                }

                .checked {
                  color: orange;
                    }
            </style>

</body>

</html>